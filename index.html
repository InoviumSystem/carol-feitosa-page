<!DOCTYPE html>
<html lang="fr">
<head>
  <!-- Flatpickr CSS -->
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.css">
   <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/l10n/fr.js"></script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Carol Feitosa</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&display=swap');

    body {
      margin: 0;
      font-family: 'Nunito Sans', Arial, sans-serif;
      background-color: #fdf6f0;
      color: #333;
    }

    .hero {
      background: #fdf6f0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .logo {
      width: 200px;
      height: 200px;
      margin-bottom: 1rem;
      border-radius: 50%;
      overflow: hidden;
      background-color: rgba(255, 255, 255, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transform: scale(1.17) translateY(-5%);
    }

    h1 {
      font-size: 2rem;
      margin: 0.5rem 0;
    }

    .subtitle {
      font-size: 1rem;
      margin-bottom: 2rem;
    }

    .buttons {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      width: 80%;
      max-width: 300px;
    }

    .buttons button {
      background-color: transparent;
      border: 2px solid #5c3a3a;
      color: #5c3a3a;
      padding: 0.8rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .buttons button:hover {
      background-color: #f3bebe;
      color: white;
    }

    .contact-icons {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 2rem;
    }

    .contact-icons i {
      font-size: 1.2rem;
      color: #5c3a3a;
    }

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0,0,0,0.4);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    .modal-content {
      background: #fff;
      border-radius: 0;
      padding: 2rem;
      width: 100%;
      height: 100%;
      max-width: none;
      overflow-y: auto;
      box-sizing: border-box;
      position: relative;
    }

    @media (min-width: 768px) {
      .modal-content {
        max-width: 400px;
        height: auto;
        border-radius: 10px;
      }
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .close {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 1.5rem;
      cursor: pointer;
      color: #888;
    }

    .section {
      padding: 2rem;
      display: none;
    }

    .service-list {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      justify-content: center;
      margin-top: 2rem;
    }

    .service {
      background-color: #fff8f5;
      border-radius: 12px;
      padding: 1.5rem;
      width: 260px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: transform 0.2s ease;
      text-align: center;
    }

    .service:hover {
      transform: translateY(-5px);
    }

    .service h3 {
      margin: 0;
      color: #a96c55;
      font-size: 1.2rem;
    }

    .description {
      display: none;
      font-size: 0.95rem;
      color: #333;
      margin-top: 1rem;
    }

    .service.active .description {
      display: block;
    }

    .card {
      background-color: #fff8f5;
      border-radius: 12px;
      padding: 1rem;
      margin-bottom: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    input, select {
      width: 100%;
      padding: 1rem;
      min-height: 50px;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      box-sizing: border-box;
      background-color: white;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      color: #333;
    }

    select {
      background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg width='14' height='10' viewBox='0 0 14 10' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23666' d='M1 1l6 6 6-6'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 1rem center;
      background-size: 1rem;
      padding-right: 2.5rem;
      cursor: pointer;
    }

    input[type="date"],
    input[type="time"] {
      color: #333;
    }

    .form-group {
      position: relative;
      display: flex;
      flex-direction: column;
    }

    .form-group label {
      font-size: 0.9rem;
      color: #888;
      margin-bottom: 0.4rem;
    }

    form button {
      padding: 1rem;
      min-height: 50px;
      font-size: 1rem;
      background-color: #5c3a3a;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      box-sizing: border-box;
      width: 100%;
    }

    form button:hover {
      background-color: #a96c55;
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">


 
  <script type="module">
     import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
     import { getFirestore, collection, addDoc, getDocs, query, where } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
      
    const firebaseConfig = {
      apiKey: "AIzaSyB8y0ZhwHe1ZcJdSNpgqaRASsBHVLs0AMA",
      authDomain: "inoviumsystem-351ee.firebaseapp.com",
      projectId: "inoviumsystem-351ee",
      storageBucket: "inoviumsystem-351ee.firebasestorage.app",
      messagingSenderId: "303348530",
      appId: "1:303348530:web:19f7cd921c2c7554e8b52b",
      measurementId: "G-9LQ3V59T9L"
    };



  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  

  const horariosPadrao = ["09:00", "10:00", "11:00", "14:00", "15:00", "16:00"];
  const dateInput = document.getElementById("date");
  const heureSelect = document.getElementById("heure");

  async function inicializarCalendarioComFlatpickr() {
  const snapshot = await getDocs(collection(db, "rendezvous"));
  const dados = {}; // { "2025-06-10": Set("09:00", "10:00") }

  snapshot.forEach(doc => {
    const { date, heure, status } = doc.data();
    if (["pendente", "confirmado"].includes(status)) {
      if (!dados[date]) dados[date] = new Set();
      dados[date].add(heure);
    }
  });

  // Identificar datas completamente ocupadas
  const datasCheias = Object.entries(dados)
    .filter(([_, horas]) => horas.size === horariosPadrao.length)
    .map(([data]) => data);

  // Inicializa o flatpickr com as datas desativadas
  flatpickr("#date", {
    locale: flatpickr.l10ns.fr,
    dateFormat: "Y-m-d",
    altInput: true,
    altFormat: "j F Y",
    minDate: "today",
    position: "below",
    disable: datasCheias,
    onChange: function(selectedDates, dateStr) {
      atualizarHorariosDisponiveis(dados, dateStr);
    }
  });
}

// Atualizar horÃ¡rios disponÃ­veis no select com base na data selecionada
function atualizarHorariosDisponiveis(dados, dataSelecionada) {
  heureSelect.innerHTML = '<option value="">SÃ©lectionnez un horaire</option>';
  const ocupados = dados[dataSelecionada] || new Set();

  const horariosDisponiveis = horariosPadrao.filter(h => !ocupados.has(h));

  if (horariosDisponiveis.length === 0) {
    const opt = document.createElement("option");
    opt.disabled = true;
    opt.textContent = "Aucun horaire disponible";
    heureSelect.appendChild(opt);
  } else {
    horariosDisponiveis.forEach(hora => {
      const opt = document.createElement("option");
      opt.value = hora;
      opt.textContent = hora;
      heureSelect.appendChild(opt);
    });
  }
}

  inicializarCalendarioComFlatpickr();

   window.submitForm = async function submitForm(event) {
    event.preventDefault();
    const prenom = document.getElementById("prenom").value.trim();
    const nom = document.getElementById("nom").value.trim();
    const tel = document.getElementById("tel").value.trim();
    const service = document.getElementById("service").value.trim();
    const date = document.getElementById("date").value.trim();
    const heure = document.getElementById("heure").value.trim();

    if (!prenom || !nom || !tel || !service || !date || !heure) {
      alert("Merci de remplir tous les champs.");
      return;
    }

    const rendezvousRef = collection(db, "rendezvous");
    const q = query(
      rendezvousRef,
      where("date", "==", date),
      where("heure", "==", heure),
      where("status", "in", ["pendente", "confirmado"])
    );
    const snapshot = await getDocs(q);

    if (!snapshot.empty) {
      alert("Ce crÃ©neau est dÃ©jÃ  rÃ©servÃ©. Veuillez choisir une autre date ou heure.");
      return;
    }

    const rdv = {
      prenom,
      nom,
      tel,
      service,
      date,
      heure,
      status: "pendente",
      timestamp: new Date()
    };

    try {
      const docRef = await addDoc(rendezvousRef, rdv);
      console.log("Agendamento salvo com ID: ", docRef.id);

      const message = `Bonjour, je souhaite prendre un RDV.\nNom: ${prenom} ${nom}\nTÃ©lÃ©phone: ${tel}\nService: ${service}\nDate: ${date}\nHeure: ${heure}`;
      const numeroWhatsApp = "+33744862798";
      const url = `https://wa.me/${numeroWhatsApp}?text=${encodeURIComponent(message)}`;
      //window.open(url, "_blank");
      window.location.href = url;

      closeFormModal();
    } catch (error) {
      alert("Erreur lors de l'enregistrement du rendez-vous. Veuillez rÃ©essayer.");
      console.error("Erreur Firebase:", error);
    }
  }
</script>

</head>
<body>
<!-- Flatpickr JS -->
<!--<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>-->
<section class="hero">
  <div class="logo">
    <img src="logo.png" alt="Logo" />
  </div>
  <h1>Carol Feitosa</h1>
  <p class="subtitle">Masseuse</p>
  <div class="buttons">
    <button onclick="openModal()">Ã€ propos de moi</button>
    <button onclick="showSection('services')">Services</button>
    <button onclick="openFormModal()">Prendre un RDV</button>
    <button onclick="showSection('avis')">Avis</button>
  </div>
  <div class="contact-icons">
    <i class="fas fa-map-marker-alt"></i>
    <i class="fas fa-envelope"></i>
    <i class="fas fa-phone"></i>
  </div>
</section>

<!-- Modal Ã€ propos -->
<div class="modal" id="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <h2>Ã€ propos de moi</h2>
    <p>Je suis une massothÃ©rapeute passionnÃ©e par le bien-Ãªtre et la relaxation...</p>
  </div>
</div>

<!-- Modal Formulaire -->
<div class="modal" id="formModal">
  <div class="modal-content">
    <span class="close" onclick="closeFormModal()">&times;</span>
    <h2>Prendre un RDV</h2>
    <form onsubmit="submitForm(event)">
      <input type="text" id="prenom" placeholder="PrÃ©nom" required />
      <input type="text" id="nom" placeholder="Nom de famille" required />
      <input type="tel" id="tel" placeholder="TÃ©lÃ©phone" required />
      <select id="service" required>
        <option value="">SÃ©lectionnez un service</option>
        <option>Massage relaxant</option>
        <option>Massage thÃ©rapeutique</option>
        <option>Pierres chaudes</option>
      </select>
      <div class="form-group">
        <label for="date">SÃ©lectionnez la date souhaitÃ©e</label>
        <input id="date" class="form-control" placeholder="SÃ©lectionnez une date" required/>

      </div>
      <select id="heure" required>
        <option value="">SÃ©lectionnez un horaire</option>
        <option>09:00</option>
        <option>10:00</option>
        <option>11:00</option>
        <option>14:00</option>
        <option>15:00</option>
        <option>16:00</option>
      </select>
      <button type="submit">Envoyer</button>
    </form>
  </div>
</div>

<!-- SECTION SERVICES -->
<div id="services" style="max-width: 900px; margin: auto; padding: 40px 20px;">
  <h2 style="text-align: center; margin-bottom: 30px;">Services</h2>

  <!-- Abas -->
  <div style="display: flex; flex-wrap: wrap; justify-content: center; margin-bottom: 20px;" id="tabs">
    <button class="tab active" onclick="showTab('decouverte')">La DÃ©couverte</button>
    <button class="tab" onclick="showTab('30min')">Soins 30 min</button>
    <button class="tab" onclick="showTab('60min')">Soins 60 min</button>
    <button class="tab" onclick="showTab('90min')">Soins 90 min</button>
    <button class="tab" onclick="showTab('personnalise')">PersonnalisÃ©</button>
    <button class="tab" onclick="showTab('forfait')">Forfait</button>
  </div>

  <!-- ConteÃºdo de cada aba -->
  <div id="tab-content">

    <!-- Aba: DÃ©couverte -->
    <div class="tab-pane active" id="decouverte">
      <ul class="service-list">
        <li class="service-item">
          <div>
            <h3><strong>DÃ©couverte Shiatsu</strong> <span>(30 min)</span></h3>
            <p>Une premiÃ¨re approche du shiatsu pour libÃ©rer les tensions en douceur.</p>
          </div>
          <div class="price">30 â‚¬</div>
        </li>
        <li class="service-item">
          <div>
            <h3><strong>DÃ©couverte Reiki</strong> <span>(30 min)</span></h3>
            <p>Initiation au soin Ã©nergÃ©tique japonais pour rÃ©Ã©quilibrer les Ã©nergies.</p>
          </div>
          <div class="price">30 â‚¬</div>
        </li>
        <li class="service-item">
          <div>
            <h3><strong>DÃ©couverte rÃ©flexologie</strong> <span>(30 min)</span></h3>
            <p>Un soin rapide sur les zones rÃ©flexes des pieds pour relÃ¢cher le corps.</p>
          </div>
          <div class="price">30 â‚¬</div>
        </li>
      </ul>
    </div>

    <!-- Aba: Soins 30 min -->
    <div class="tab-pane" id="30min">
      <ul class="service-list">
        <li class="service-item">
          <div>
            <h3><strong>Reiki</strong> <span>(30 min)</span></h3>
            <p>Ã‰quilibrage Ã©nergÃ©tique rapide pour recentrer le corps et lâ€™esprit.</p>
          </div>
          <div class="price">35 â‚¬</div>
        </li>
      </ul>
    </div>

    <!-- Aba: Soins 60 min -->
    <div class="tab-pane" id="60min">
      <ul class="service-list">
        <li class="service-item">
          <div>
            <h3><strong>Reiki</strong> <span>(60 min)</span></h3>
            <p>Une sÃ©ance complÃ¨te pour rÃ©aligner vos Ã©nergies et apaiser les tensions profondes.</p>
          </div>
          <div class="price">60 â‚¬</div>
        </li>
      </ul>
    </div>

    <!-- Aba: Soins 90 min -->
    <div class="tab-pane" id="90min">
      <ul class="service-list">
        <li class="service-item">
          <div>
            <h3><strong>Reiki intensif</strong> <span>(90 min)</span></h3>
            <p>Un travail en profondeur sur les blocages Ã©nergÃ©tiques et les dÃ©sÃ©quilibres du corps.</p>
          </div>
          <div class="price">85 â‚¬</div>
        </li>
      </ul>
    </div>

    <!-- Aba: PersonnalisÃ© -->
    <div class="tab-pane" id="personnalise">
      <ul class="service-list">
        <li class="service-item">
          <div>
            <h3><strong>Soin personnalisÃ©</strong> <span>(60 Ã  90 min)</span></h3>
            <p>Un mÃ©lange intuitif de techniques adaptÃ©es Ã  vos besoins (shiatsu, reiki, rÃ©flexologie...)</p>
          </div>
          <div class="price">Ã€ partir de 70 â‚¬</div>
        </li>
      </ul>
    </div>

    <!-- Aba: Forfait -->
    <div class="tab-pane" id="forfait">
      <ul class="service-list">
        <li class="service-item">
          <div>
            <h3><strong>Forfait 3 sÃ©ances</strong></h3>
            <p>IdÃ©al pour suivre un parcours thÃ©rapeutique complet.</p>
          </div>
          <div class="price">180 â‚¬</div>
        </li>
        <li class="service-item">
          <div>
            <h3><strong>Forfait mensuel</strong></h3>
            <p>1 sÃ©ance par semaine pendant 1 mois pour un suivi Ã©nergÃ©tique continu.</p>
          </div>
          <div class="price">220 â‚¬</div>
        </li>
        <li class="service-item">
          <div>
            <h3><strong>Forfait duo</strong></h3>
            <p>2 soins pour partager un moment Ã  deux, chacun son soin.</p>
          </div>
          <div class="price">120 â‚¬</div>
        </li>
      </ul>
    </div>
  </div>
</div>

<!-- ESTILO -->
<style>
  .tab {
    background: #f1f1f1;
    border: none;
    padding: 10px 18px;
    margin: 4px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 20px;
  }
  .tab.active {
    background: #444;
    color: white;
    font-weight: bold;
  }
  .tab-pane { display: none; }
  .tab-pane.active { display: block; }

  .service-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .service-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid #eee;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
  }
  .service-item h3 {
    margin: 0 0 8px;
    font-size: 18px;
  }
  .service-item p {
    margin: 0;
    color: #555;
  }
  .price {
    min-width: 90px;
    text-align: right;
    font-size: 22px;
    font-weight: bold;
    color: #444;
  }
</style>

<!-- SCRIPT -->
<script>
  function showTab(id) {
    // Trocar aba ativa
    document.querySelectorAll('.tab').forEach(btn => btn.classList.remove('active'));
    document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('active'));
    document.querySelector(`[onclick="showTab('${id}')"]`).classList.add('active');
    document.getElementById(id).classList.add('active');
  }
</script>



<!-- SECTION AVIS -->
<div class="section" id="avis">
  <h2 style="text-align:center;">Avis</h2>
  <div class="card">ðŸŒŸðŸŒŸðŸŒŸðŸŒŸðŸŒŸ - "Une expÃ©rience incroyable, je me sens totalement dÃ©tendue."</div>
  <div class="card">ðŸŒŸðŸŒŸðŸŒŸðŸŒŸ - "TrÃ¨s professionnelle et Ã  l'Ã©coute. Je recommande !"</div>
  <div class="card">ðŸŒŸðŸŒŸðŸŒŸðŸŒŸðŸŒŸ - "Un moment de pur bonheur, merci beaucoup."</div>
</div>

<script>
  function openModal() {
    document.getElementById("modal").style.display = "flex";
    document.getElementById("services").style.display = "none";
    document.getElementById("avis").style.display = "none";
  }

  function closeModal() {
    document.getElementById("modal").style.display = "none";
  }

  function openFormModal() {
    document.getElementById("formModal").style.display = "flex";
    document.getElementById("services").style.display = "none";
    document.getElementById("avis").style.display = "none";
  }

  function closeFormModal() {
    document.getElementById("formModal").style.display = "none";
  }

  function showSection(id) {
    closeModal();
    closeFormModal();
    const sections = ["services", "avis"];
    sections.forEach(s => {
      document.getElementById(s).style.display = (s === id) ? "block" : "none";
    });
    document.getElementById(id).scrollIntoView({ behavior: "smooth", block: "center" });
  }

 
</script>
</body>
</html>




